# 🎮 ゼロから始める！自作ゲームの作り方と配布マニュアル（EXE版）

このガイドでは、プログラミング初心者の方が、PythonとPygameを使ってゲームを作り、それを友達や世界中の人に遊んでもらうまでの「全ての流れ」を解説します。

---

## 📍 全体の流れ

1.  **準備**: パソコンに開発環境を作る（仮想環境の作成を推奨）
2.  **開発**: ゲームのコードを書く
3.  **変換**: ゲームを「ソフト(EXE)」にする
4.  **公開**: GitHub Releases または itch.io でダウンロードできるようにする

---

## Step 1: 準備（開発環境を作る）

まずはゲームを作るための道具を揃えます。すべて無料です。

### 1-1. Python（パイソン）のインストール

*   [Python公式サイト](https://www.python.org/downloads/) からダウンロードしてインストールします。
*   ⚠️ インストール時、**"Add Python to PATH"** というチェックボックスに必ずチェックを入れてください！

### 1-2. VS Code（エディタ）のインストール

*   [VS Code公式サイト](https://code.visualstudio.com/) からダウンロードしてインストールします。
*   これはプログラムを書くための高性能なメモ帳のようなものです。

### 1-3. ゲームフォルダの作成

*   デスクトップや好きな場所に、ゲーム用のフォルダを作ります（例: `C:\game`）。
*   VS Codeでこのフォルダを開きます。

### 1-4. 仮想環境（venv）の作成 ⭐ 重要！

仮想環境を使うと、プロジェクトごとにライブラリを管理できて、パソコン全体が汚れません。

1.  **ゲームフォルダに移動**:
    ```bash
    cd C:\game
    ```
    （自分で作ったフォルダのパスに変更してください）

2.  **仮想環境を作成**:
    ```bash
    python -m venv .venv
    ```
    これで `.venv` というフォルダができます。

3.  **仮想環境を有効化**:
    ```bash
    .venv\Scripts\activate
    ```
    成功すると、コマンドライン（ターミナル）の先頭に `(.venv)` と表示されます。

4.  **ライブラリをインストール**:
    ```bash
    pip install --upgrade pip
    pip install pygame pyinstaller
    ```
    - `pygame`: ゲームを作るためのライブラリ
    - `pyinstaller`: PythonファイルをEXEに変換するツール

---

## Step 2: ゲームを作る

1.  **ファイル作成**:
    *   VS Codeで先ほど作ったフォルダを開き、`main.py` というファイルを作ります。

3.  **コードを書く**:
    *   ここにPythonのコードを書きます。
    *   （AIに「Pygameで〇〇なゲームのコードを書いて」と頼むと、ベースとなるコードを作ってくれます！）

4.  **実行してテスト**:
    *   ターミナルで `python main.py` と打つと、ゲームが動きます。

---

## Step 3: ゲームを「ソフト」にする（EXE化）

作った `main.py` は、Pythonが入っていない友達のパソコンでは動きません。
そこで、誰でも動かせる **EXEファイル（アプリ）** に変換します。

### 方法1: 手動で変換する場合

1.  **変換コマンドの実行**:
    ```bash
    pyinstaller --onefile --windowed --name game main.py
    ```
    *   `--onefile`: 1つのファイルにまとめる
    *   `--windowed`: 黒い画面（コンソール）を出さない
    *   `--name`: アプリの名前

2.  **完成**:
    *   `dist` というフォルダの中に `game.exe` ができます。
    *   これがあなたの作ったゲームソフト本体です！

### 方法2: バッチファイルで一括変換（このプロジェクト用）

このプロジェクトには `clean_and_build.bat` というファイルがあります。
これを実行するだけで、全てのゲームが自動でEXE化されます。

```bash
clean_and_build.bat
```

実行後、以下のEXEファイルが `C:\game` 直下に生成されます：
- `FightingGame.exe` （格闘ゲーム）
- `DodgeGame.exe` （避けゲーム）

---

## Step 4: 公開する（配布サイトを作る）

「ボタンを押したらダウンロード」を実現するには、ファイルをインターネット上に置く必要があります。

### 方法A: GitHub Releases で配布（プログラマー向け）

GitHubを使うと、バージョン管理しながら配布できます。

1.  **GitHubアカウントを作成**:
    *   [GitHub](https://github.com/) でアカウント登録（無料）。

2.  **リポジトリを作成**:
    *   「New repository」をクリックし、適当な名前（例: `my-games`）を付けます。
    *   「Public」を選択して作成。

3.  **コードをアップロード**:
    ```bash
    git init
    git add .
    git commit -m "Initial commit"
    git remote add origin https://github.com/yourname/my-games.git
    git push -u origin main
    ```

4.  **Releaseを作成**:
    *   リポジトリページの右側にある **「Releases」** をクリック。
    *   **「Create a new release」** をクリック。
    *   **Tag version**（例: `v1.0.0`）とタイトルを入力。
    *   ビルドした `.exe` ファイルを **ドラッグ&ドロップ** で添付。
    *   **「Publish release」** をクリック。

5.  **完成！**:
    *   Release ページにダウンロードリンクが表示されます。
    *   このURLを友達に送れば、誰でもダウンロードして遊べます！

#### 📦 ファイルサイズの制限について

GitHub Releases では **1ファイルあたり最大 2GB** の制限があります。

もし EXE ファイルがこのサイズを超えてしまう場合は、以下の対処法があります：

##### 方法1: ZIP圧縮で容量を減らす

PyInstallerで生成されたEXEファイルは、ZIP圧縮することで容量を削減できる場合があります。

```bash
# Windowsの場合、エクスプローラーでファイルを右クリック
# 「送る」→「圧縮(zip形式)フォルダー」を選択

# PowerShellを使う場合
Compress-Archive -Path game.exe -DestinationPath game.zip
```

ZIPファイルをReleaseにアップロードし、ユーザーには解凍してから使ってもらいます。

##### 方法2: Git LFS（Large File Storage）を使う

非常に大きなファイル（2GBを超える場合）は、**Git LFS** を使って管理できます。
Git LFS を使うと **最大 5GB** までのファイルを扱えます。

**使い方**:

1.  **Git LFS をインストール**:
    ```bash
    # Windowsの場合、Git for Windows に同梱されています
    # または https://git-lfs.github.com/ からダウンロード
    ```

2.  **リポジトリで LFS を有効化**:
    ```bash
    git lfs install
    ```

3.  **管理したいファイル形式を指定**:
    ```bash
    # EXEファイルやZIPファイルをLFSで管理
    git lfs track "*.exe"
    git lfs track "*.zip"
    ```

4.  **変更をコミット & プッシュ**:
    ```bash
    git add .gitattributes
    git add game.zip
    git commit -m "Add large ZIP with LFS"
    git push origin main
    ```

5.  **Releaseを作成**:
    通常通り Release を作成すると、LFS で管理されたファイルも正しくダウンロードできます。

⚠️ **注意**: GitHub の無料プランでは、LFS のストレージは **1GB まで** で、帯域幅は **月 1GB まで** です。超過する場合は有料プランの検討が必要です。

### 方法B: itch.io で公開（一番簡単！おすすめ）

世界中のインディーゲームが集まるサイトです。「自分のゲームサイト」が作れます。

1.  **itch.io に登録**:
    *   [itch.io](https://itch.io/) に登録します（無料）。

2.  **新しいプロジェクトを作成**:
    *   「Upload New Project」をクリック。
    *   **Kind of project** を **「Downloadable」** に設定。

3.  **ゲーム情報を入力**:
    *   タイトル、説明文、スクリーンショットなどを入力。

4.  **EXEファイルをアップロード**:
    *   **Upload Files** で `.exe` ファイルをアップロード。
    *   **「This file will be played in the browser」のチェックを外す**（重要！）。
    *   **Platforms** で **「Windows」** にチェック。

5.  **ページのデザイン**:
    *   色や背景を自由にカスタマイズできます。

6.  **公開**:
    *   **Visibility & access** を **「Public」** にして **「Save」**。
    *   世界中の人があなたのゲームページにアクセスし、**「Download」ボタンを押して遊べるようになります！**

---

## ❓ よくある質問

**Q: 「ボタンを押したら自動でインストール」されるようにしたいのですが？**  
A: それには「インストーラー」という特別なソフトを作る必要があります（Inno Setupなどを使います）。
しかし、個人の自作ゲームでは**「ZIPをダウンロードして解凍する」**または**「EXEを直接ダウンロード」**形式が一般的で、ユーザーにとっても安心です。

**Q: ウイルス対策ソフトに警告されます！**  
A: 自作のEXEファイルは、有名な署名がないため警告が出ることがあります。「詳細情報」→「実行」を選べば動きますが、これを消すには高価な電子証明書が必要です。友達には「自作だから警告出るかも」と伝えておきましょう。

**Q: 仮想環境を使わないとダメですか？**  
A: 必須ではありませんが、**強く推奨**します。仮想環境を使わないと、Pythonのライブラリが全体にインストールされ、他のプロジェクトと衝突する可能性があります。

**Q: GitHub と itch.io、どっちがいいですか？**  
A: 
- **GitHub Releases**: プログラマー向け。バージョン管理も同時にできる。
- **itch.io**: ゲーム配布特化。見た目が綺麗で、ゲームユーザーに優しい。

初めてなら **itch.io** がおすすめです！

---

## 🎉 まとめ

1.  **仮想環境 (venv)** を作ってライブラリをインストール
2.  Pygame でゲームを作成
3.  `pyinstaller` で EXE に変換
4.  **GitHub Releases** または **itch.io** で公開

これであなたもゲームクリエイターの仲間入りです！
まずは小さなゲームから完成させて、公開してみましょう！
